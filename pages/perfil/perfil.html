<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Meu Perfil - BusStop</title>
  <link rel="stylesheet" href="../../assets/css/global.css" />
  <link rel="stylesheet" href="perfil.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body>
  <!-- Cabeçalho Padrão com Menus Dropdown -->
  <header>
    <div class="logo">
      <i class="fa-solid fa-bus"></i>
      <span>BusStop</span>
    </div>
    <nav>
      <a href="/pages/index/index.html">Home</a>
      <div class="dropdown" id="servicos-dropdown">
        <button class="dropdown-toggle" id="servicos-btn">
          Serviços <i class="fa-solid fa-chevron-down"></i>
        </button>
        <div class="dropdown-content" id="servicos-content">
          <a href="/pages/recarga/recarga.html">Recarga de Cartão</a>
          <a href="/pages/renovacao/renovacao.html">Renovação de Cartão</a>
        </div>
      </div>
      <a href="/pages/linhas/linhas.html">Linhas</a>
    </nav>
    <div class="right-nav">
      <div class="user-icon-wrapper dropdown">
        <div class="user-icon" id="user-btn">
          <i class="fa-regular fa-user"></i>
        </div>
        <div class="dropdown-content" id="user-content">
          <!-- Conteúdo populado via global.js -->
        </div>
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="hero-text">
        <h1>Meu Perfil</h1>
        <p>Mantenha seus dados sempre atualizados.</p>
      </div>
    </section>

    <section class="content-section">
      <!-- Mensagem de Deslogado -->
      <div id="logged-out-message" class="main-card access-restricted" style="display: none;">
        <div class="restricted-icon"><i class="fa-solid fa-lock"></i></div>
        <h2>Acesso Restrito</h2>
        <p>Por favor, faça <a href="/pages/loginCadastro/loginCadastro.html#login">login</a> para visualizar e editar seus dados de perfil.</p>
      </div>
      
      <!-- Conteúdo Logado -->
      <div id="logged-in-content" class="main-card" style="display: none;">
        
        <div class="display-group">
          <p class="display-title">Saldo Atual</p>
          <div class="input-display">
            <i class="fa-solid fa-wallet"></i>
            <input type="text" id="balance-amount" disabled>
          </div>
        </div>

        <form id="profile-form" novalidate>
          <!-- Dados Pessoais -->
          <div class="step">
            <div class="step-header">
              <div class="step-icon"><i class="fa-solid fa-user-pen"></i></div>
              <h2 class="step-title">Dados Pessoais</h2>
            </div>
            <p class="step-description">As suas informações de identificação e contacto.</p>
            <div class="form-grid" id="dados-pessoais-grid">
              <div class="input-group full-width">
                <i class="fa-solid fa-user input-icon"></i>
                <input type="text" id="nome" placeholder="Nome completo" required disabled maxlength="60">
              </div>
               <div class="input-group">
                <i class="fa-solid fa-envelope input-icon"></i>
                <input type="email" id="email" placeholder="E-mail" required disabled>
              </div>
              <div class="input-group">
                <i class="fa-solid fa-id-card input-icon"></i>
                <input type="text" id="cpf" placeholder="CPF" required disabled>
              </div>
              <div class="input-group">
                <i class="fa-solid fa-address-card input-icon"></i>
                <input type="text" id="carteirinha" placeholder="Nº da Carteirinha" required disabled>
              </div>
              <!-- Campo de Telefone -->
              <div class="input-group phone-group">
                <i class="fa-solid fa-phone input-icon"></i>
                <span class="country-code">+55</span>
                <span class="phone-separator">|</span>
                <input type="tel" id="telefone" placeholder="(XX) XXXXX-XXXX" required disabled maxlength="15">
              </div>
              <div class="input-group">
                <i class="fa-solid fa-location-dot input-icon"></i>
                <input type="text" id="cep" placeholder="CEP" required maxlength="9" disabled>
              </div>
              <div class="input-group">
                <i class="fa-solid fa-road input-icon"></i>
                <input type="text" id="endereco" placeholder="Endereço" required disabled>
              </div>
               <div class="input-group">
                 <i class="fa-solid fa-hashtag input-icon"></i>
                 <input type="text" id="numero" placeholder="Número" required disabled maxlength="10">
              </div>
              <div class="input-group">
                <i class="fa-solid fa-building input-icon"></i>
                <input type="text" id="complemento" placeholder="Complemento" disabled maxlength="30">
              </div>
              <div class="input-group">
                <i class="fa-solid fa-city input-icon"></i>
                <input type="text" id="cidade" placeholder="Cidade" required disabled>
              </div>
               <div class="input-group">
                <i class="fa-solid fa-map input-icon"></i>
                <input type="text" id="estado" placeholder="Estado" required maxlength="2" disabled>
              </div>
            </div>
            <p id="personal-message" class="form-message"></p>
            <div class="action-buttons">
              <button type="button" id="edit-personal-btn" class="action-btn edit-btn">Editar</button>
              <button type="button" id="save-personal-btn" class="action-btn save-btn" style="display: none;">Salvar Alterações</button>
              <button type="button" id="cancel-personal-btn" class="action-btn cancel-btn" style="display: none;">Cancelar</button>
            </div>
          </div>
          
           <!-- Alteração de Senha -->
          <div class="step">
            <div class="step-header">
              <div class="step-icon"><i class="fa-solid fa-key"></i></div>
              <h2 class="step-title">Alterar Senha</h2>
            </div>
            <p class="step-description">Para sua segurança, digite sua senha atual para definir uma nova.</p>
             <div class="form-grid">
                <div class="input-group full-width">
                    <i class="fa-solid fa-shield-halved input-icon"></i>
                    <input type="password" id="senha-atual" placeholder="Senha Atual" disabled>
                    <button type="button" class="password-toggle-btn" data-target="senha-atual" aria-label="Mostrar/Ocultar senha">
                        <i class="fa-solid fa-eye"></i>
                    </button>
                </div>
                <div class="input-group password-group">
                    <i class="fa-solid fa-lock input-icon"></i>
                    <input type="password" id="nova-senha" placeholder="Nova Senha" disabled>
                    <button type="button" class="password-toggle-btn" data-target="nova-senha" aria-label="Mostrar/Ocultar senha">
                      <i class="fa-solid fa-eye"></i>
                    </button>
                </div>
                <div class="input-group password-group">
                    <i class="fa-solid fa-lock input-icon"></i>
                    <input type="password" id="confirmar-senha" placeholder="Confirmar Nova Senha" disabled>
                    <button type="button" class="password-toggle-btn" data-target="confirmar-senha" aria-label="Mostrar/Ocultar senha">
                      <i class="fa-solid fa-eye"></i>
                    </button>
                </div>
            </div>
            <p id="password-message" class="form-message"></p>
            <div class="action-buttons">
              <button type="button" id="edit-password-btn" class="action-btn edit-btn">Alterar Senha</button>
              <button type="button" id="save-password-btn" class="action-btn save-btn" style="display: none;">Salvar Senha</button>
              <button type="button" id="cancel-password-btn" class="action-btn cancel-btn" style="display: none;">Cancelar</button>
            </div>
          </div>
        </form>
      </div>
    </section>
  </main>
  
  <footer>
    <p>&copy; 2025 BusStop. Todos os direitos reservados.</p>
  </footer>

  <script src="../../assets/js/global.js"></script>
  <script src="perfil.js"></script>
</body>
</html>

